var Base=function(){"use strict";var t="function",e="object",n=!1,r=["constructor","toString","valueOf"],s=r.length,o=/\bbase\b/,i=function(){},a={toSource:null,base:i},u=function(){};return u.extend=function(r,s){var o=u.prototype.extend;n=!0;var i=new this;o.call(i,r),i.base=a.base,n=!1;var c=i.constructor,l=i.constructor=function(){n||(this&&(this._constructing||this.constructor===l)?(this._constructing=!0,c.apply(this,arguments),this._constructing=!1):arguments.length&&u.cast.apply(l,arguments))};return o.call(l,this),l.ancestor=this,l.prototype=i,l.valueOf=function(t){return t===e?l:c.valueOf()},o.call(l,s),typeof l.init===t&&l.init(),l},u.prototype.extend=function(i,c){if(arguments.length>1){var l=this[i];if(l&&typeof c===t&&(!l.valueOf||l.valueOf()!==c.valueOf())&&o.test(c)){var h=c.valueOf();c=function(){var t,e=this.base||a.base;return this.base=l,t=0===arguments.length?h.call(this):h.apply(this,arguments),this.base=e,t},c.valueOf=function(t){return t===e?c:h},c.toString=u.toString}this[i]=c}else if(i){var f=u.prototype.extend;n||typeof this===t||(f=this.extend||f);for(var p,v=n?0:1;s>v;v++)p=r[v],i[p]!==a[p]&&f.call(this,p,i[p]);for(p in i)i.hasOwnProperty(p)&&!a[p]&&f.call(this,p,i[p])}return this},u=u.extend({constructor:function(t,e){return this.extend(t,e)}},{base:a.base,ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var r in t)void 0===this.prototype[r]&&e.call(n,t[r],r,t);return this},cast:function(){for(var e,n,r=0,s=arguments.length;s>r;r++)n=arguments[r],e=n.extend||u.prototype.extend,typeof n===t?(e=n.prototype.extend||u.prototype.extend,e.call(n.prototype,this.prototype),e.call(n,this),n.ancestor=this):e.call(n,this.prototype);return this},implement:function(){for(var t=0;arguments.length>t;t++)this.cast.call(arguments[t],this);return this},toString:function(){return this.valueOf()+""}})}();